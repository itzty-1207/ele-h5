1.vite组成
- 一个开发服务器：基于ES模块，提供丰富内建功能如模块热更新HMR。
- 一套构建指令：使用Rollup打包，与配置。

2.优化
2.1 开发服务器的启动优化
- 依赖：使用esbuild打包，go编写比较javascript-based打包快10倍
- 源码：使用浏览器原生es module提供源码，让浏览器接管打包工具部分工作
2.2 热更新优化
- 使用ESM不需重新编译，一些打包工具需重新构建整个项目来获取新的模块依赖关系
- 使用浏览器缓存加速，Vite利用http头加速整个页面重新加载

3.浏览器返回
- 基于打包的服务器，客户端返回的是bundle文件，bundle包括模块本身与模块间依赖关系
- 基于ESM开发的服务器，返回的是模块本身

4. vite代理
- 前端项目、vite开发服务器分别管理mock服务器或服务端